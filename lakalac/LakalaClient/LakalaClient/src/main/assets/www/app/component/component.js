Ext.define("Application.component.AccordionList",{extend:Ext.Container,xtype:"lklaccordionlist",alternateClassName:"LKLAccordionList",config:{cls:Ext.baseCSSPrefix+"lkl-accordion-list",headerItemCls:Ext.baseCSSPrefix+"lkl-accordion-list-header",contentItemCls:Ext.baseCSSPrefix+"lkl-accordion-list-content",layout:{type:"fit"},store:null,listScrollable:true,headerItemTpl:['<tpl if="this.isExpanded(values)">',"{0}","<tpl else>","{1}","</tpl>"].join(""),headerCloseTpl:"",headerOpenTpl:"",contentItemTpl:"",defaultExpanded:false,useSelectedHighlights:true,singleMode:false,animation:false,animationDuration:800,list:null,listPlugins:[],expandSectionIndex:-1,expandSectionChildCount:0,itemCls:"",selectedCls:""},initialize:function(){var a=this;a.doInitialize();a.callParent(arguments)},doInitialize:function(){var a=this;if(a.getDefaultExpanded()){a.doAllExpand()}},applyStore:function(a){return this.patchStore(a)},updateStore:function(a,e){var b=this,c=b.getList(),d;if(!c){d=new Ext.XTemplate('<tpl if="leaf">',b.makeContentTemplate(),"<tpl else>",b.makeHeaderTemplate(),"</tpl>",{isExpanded:function(f){return f.expanded}});c=Ext.create("Ext.dataview.List",{itemTpl:d,itemHeight:"auto",itemCls:b.getItemCls(),selectedCls:b.getSelectedCls(),scrollToTopOnRefresh:false,plugins:b.getListPlugins()});if(b.getUseSelectedHighlights()===false){c.setSelectedCls("")}c.on("itemtap",b.onItemTap,b);c.on("refresh",b.onListRefresh,b);b.setList(c);c.setScrollable(b.getListScrollable());b.add(c)}a.on("load",b.onLoadStore,b);c.setStore(a)},makeHeaderTemplate:function(){var a=this;return Ext.String.format(a.getHeaderItemTpl(),a.getHeaderOpenTpl(),a.getHeaderCloseTpl())},makeContentTemplate:function(){var a=this;return a.getContentItemTpl()},updateListScrollable:function(a,c){var b=this.getList();if(b){b.setScrollable(a)}},load:function(){this.getStore().load()},removeAll:function(){this.getStore().removeAll()},getCount:function(){var a=this.getStore();return Ext.isEmpty(a)?0:a.getCount()},getAllCount:function(){var a=this.getStore();return Ext.isEmpty(a)?0:a.getAllCount()},doExpandItems:function(b){var d=this,e=d.getList(),a=e.getStore(),c=a.getAt(b);c.expand()},doAllExpand:function(){var b=this;b.doAll(function a(c){if(b.getAnimation()){b.addListExpandListeners(c)}c.expand();if(!c.isLeaf()){c.childNodes.forEach(a,b)}})},doAllCollapse:function(){var a=this;a.doAll(function b(c){c.collapse();if(!c.isLeaf()){c.childNodes.forEach(b,a)}})},doAllCollapseWithSingleMode:function(c){var a=this;a.doAll(function b(d){if(d.data.depth===c){d.collapse()}})},doAll:function(d){var b=this,c=b.getList(),a=c.getStore();a.each(d,b)},onListRefresh:function(f){var j=this,h=f.listItems,g=h.length,e=j.getHeaderItemCls(),a=j.getContentItemCls(),c,k,d,b;for(c=0;c<g;c++){k=h[c];d=k.getRecord();b=d.get("leaf");k.removeCls(b?e:a);k.addCls(b?a:e)}},onItemTap:function(h,d,f,c,g){var i=this,k=h.getStore(),b=k.getAt(d);i.scrollToSelectedItem();if(i.getAnimation()){i.readyAnimation(h,d,f,c,g)}if(b.isLeaf()){i.fireEvent("leafitemtap",h,d,f,c,g)}else{var j,a=i.getExpandSectionIndex();if(a==-1){j=d}else{if(d<=a){j=d}else{j=d-i.getExpandSectionChildCount()}}i.fireEvent("itemtap",h,d,f,j,c,g);if(b.isExpanded()){b.collapse();i.setExpandSectionIndex(-1)}else{i.setExpandSectionIndex(d);if(i.getSingleMode()){i.doAllCollapseWithSingleMode(c.data.depth)}b.expand()}}},scrollToSelectedItem:function(){var d=this,e=d.getList(),b=e.getStore(),c=e.getSelection()[0],a=b.indexOf(c),f=e.getItemMap(),g=f.map[a];e.getScrollable().getScroller().scrollTo(0,g)},scroolToItem:function(a){var b=this,c=b.getList(),d=c.getItemMap(),e=d.map[a];c.getScrollable().getScroller().scrollTo(0,e)},readyAnimation:function(e,c,f,b){var d=this,g=b.getId();var a=e.getStore().getAt(c);d.addListExpandListeners(a)},addListExpandListeners:function(a){var b=this;b.loadedTaps=b.loadedTaps||{};if(b.loadedTaps[a.id]){return}else{b.loadedTaps[a.id]=true}a.setListeners({expand:b.onExpandWithAnimation,scope:b})},onExpandWithAnimation:function(a){var b=this,c=b.getList();Ext.each(a.childNodes,function(d){var e=c.getItemAt(c.getStore().indexOf(d));e.hide();if(d.get("expanded")){b.addListExpandListeners(e,c);d.collapse();d.expand()}});Ext.each(a.childNodes,function(d){var f=c.getItemAt(c.getStore().indexOf(d));try{f.show({easing:"easeInOut",duration:b.getAnimationDuration(),autoClear:true,from:{opacity:0,height:"0px"},to:{opacity:1,height:"51px"}})}catch(g){}})},patchStore:function(a){a.onProxyLoad=function(c){var e=this,b=c.getRecords(),f=c.wasSuccessful(),d=c.getNode();e.loadedTaps={};d.beginEdit();d.set("loading",false);if(f){b=e.fillNode(d,b)}d.endEdit();this.updateNode(d);e.loading=false;e.loaded=true;d.fireEvent("load",d,b,f);e.fireEvent("load",this,b,f,c);Ext.callback(c.getCallback(),c.getScope()||e,[b,c,f])};a.onNodeBeforeExpand=function(){};if(a.getAutoLoad()){Ext.defer(function(){var c=this.getList(),b=c.getLoadingText();c.setLoadingText(null);a.load();c.setLoadingText(b)},500,this)}return a}});Ext.define("Application.component.BaseCell",{alternateClassName:"LKLBaseCell",extend:Ext.field.Field,xtype:"lklbasecell",isCreateComplete:false,config:{ui:AppDefaultUI,component:{itemId:"cell",xtype:"container",cls:"cell-box",flex:1,layout:{type:"hbox",align:"stretch",pack:"start"}}},constructor:function(a){if(!a){a={}}a.component=Ext.clone(this.config.component);if(a){Application.service.utils.moveTo(a.component,a,["layout","items","html","tpl","tplWriteMode","data"])}this.callParent(arguments);this.addCls(this.getBaseCls()+"-basecell");this.element.on({tap:{scope:this,fn:function(){arguments[0]=this;return this.fireAction("tap",arguments)}}});this.isCreateComplete=true},getCell:function(){return this.getComponent()},add:function(){var a=this.getCell();return a.add.apply(a,arguments)},setItems:function(){if(this.isCreateComplete){var a=this.getCell();if(!a){return}a.setItems.apply(a,arguments)}},getItems:function(){var a=this.getCell();return a.getItems.apply(a,arguments)}});Ext.define("Application.component.BaseDataView",{extend:Ext.dataview.DataView,alternateClassName:"LKLBaseDataView",xtype:"lklbasedataview",constructor:function(){this.callParent(arguments);this.addCls(Ext.baseCSSPrefix+"lklbasedataview");this.addCls("color-background-page")},initialize:function(){this.callParent(arguments);this.container.on({add:function(a,d,b,c){if(b==0){d.setStyle({"border-top":"1px solid #cccccc","border-bottom":"1px solid #cccccc"})}else{d.setStyle({"border-bottom":"1px solid #cccccc"})}},move:function(a,d,e,c,b){if(e==0){d.setStyle({"border-top":"1px solid #cccccc","border-bottom":"1px solid #cccccc"})}else{d.setStyle({"border-bottom":"1px solid #cccccc"})}}})}});Ext.define("Application.component.BaseList",{extend:Ext.dataview.List,alternateClassName:"LKLBaseList",xtype:"lklbaselist",constructor:function(){this.callParent(arguments);this.addCls(Ext.baseCSSPrefix+"lklbaselist");this.addCls("color-background-page")}});Ext.define("Application.component.BaseListItem",{alternateClassName:"LKLBaseListItem",xtype:"baselistitem",extend:Ext.dataview.component.DataItem,config:{width:"",baseView:{},dataMap:{getBaseView:{}},cmpListeners:Ext.emptyFn()},currentView:null,constructor:function(a){a=a||{};var b=Ext.clone(this.config);Ext.applyIf(a,b);if(a.bundle){a.dataMap.getBaseView=a.bundle;delete a.bundle}this.callParent(arguments)},getCurrentView:function(){return this.currentView},applyBaseView:function(a){return Ext.factory(a,this.getComponentType(),this.getBaseView())},updateBaseView:function(b,j){if(j){this.remove(j)}if(b){this.currentView=b;var f=this,h=f.getId(),e=h.substr(h.length-1,1)-1,d=f.getRecord();var g=this.getCmpListeners()||[];for(var c=0;c<g.length;c++){var a=g[c];(function(k,m,l,i){k.on(m,function(){f.fireAction(m,[l,i,k])},f)})(b,a,e,d)}this.add(b)}}});Ext.define("Application.component.BasePicker",{alternateClassName:"LKLBasePicker",extend:Ext.picker.Picker,xtype:"lklbasepicker",config:{showAnimation:"",hideAnimation:""},otherConfig:{toolbar:{title:""},slots:[]},constructor:function(b){b=b||{};var c=this,a=Ext.clone(c.otherConfig);Ext.applyIf(b,a);if(b.title&&Ext.isString(b.title)){b.toolbar.title=b.title;delete b.title}if(b.data&&Ext.isObject(b.data)){b.slots=c.dataConversion(b.data);delete b.data}c.callParent(arguments);c.addCls("x-lklbasepicker")},dataConversion:function(g){var d=[],f;for(var c in g){if(g.hasOwnProperty(c)){var h=g[c],a=[];if(!Ext.isArray(h)){continue}for(var b=0;b<h.length;b++){var e={};if(Ext.isString(h[b])){e={text:h[b],value:h[b]}}if(Ext.isObject(h[b])){e=h[b]}a.push(e)}f={name:c,data:a};d.push(f)}}return d},setNewSlots:function(b){var a=this.dataConversion(b);this.setSlots(a)}});Ext.define("Application.component.Button",{extend:Ext.Button,xtype:"lklbutton",alternateClassName:"LKLButton",config:{border:0},constructor:function(a){this.callParent(arguments);this.addCls(Ext.baseCSSPrefix+"lklbutton");this.addCls("font-size-button-normal")}});Application.loadMode(["BaseCell"],"component");Ext.define("Application.component.ThreeColumnCell",{alternateClassName:"LKLThreeColumnCell",extend:LKLBaseCell,xtype:"lkl3colcell",defaultItems:[{itemId:"leftcontainer",layout:{type:"hbox",align:"center",pack:"start"},xtype:"container",cls:"threecolumncell-left",hidden:true},{flex:1,itemId:"centercontainer",xtype:"container",layout:{type:"hbox",align:"center",pack:"start"},cls:"threecolumncell-center"},{itemId:"rightcontainer",layout:{type:"hbox",align:"center",pack:"start"},xtype:"container",cls:"threecolumncell-right",hidden:true}],constructor:function(a){if(!a){a={}}var b;if(a.items){b=a.items}a.items=Ext.clone(this.defaultItems);if(a.leftview){a.items[0].items=a.leftview;a.items[0].hidden=(a.leftview.hidden!=true?false:true);delete a.leftview}if(a.rightview){a.items[2].items=a.rightview;a.items[2].hidden=(a.rightview.hidden!=true?false:true);delete a.rightview}if(b){a.items[1].items=b}Application.service.utils.moveTo(a.items[1],a,["layout","tpl","tplWriteMode","data","html"]);this.callParent(arguments);this.getCenterContainer().element.on({tap:{scope:this,fn:function(){arguments[0]=this.getCenterContainer();this.fireAction("tapcenter",arguments)}}});this.getLeftContainer().element.on({tap:{scope:this,fn:function(){arguments[0]=this.getLeftContainer();this.fireAction("tapleft",arguments)}}});this.getRightContainer().element.on({tap:{scope:this,fn:function(){arguments[0]=this.getRightContainer();this.fireAction("tapright",arguments)}}})},getLeftContainer:function(){var a=this.getCell();return a.getComponent("leftcontainer")},getCenterContainer:function(){var a=this.getCell();return a.getComponent("centercontainer")},getRightContainer:function(){var a=this.getCell();return a.getComponent("rightcontainer")},add:function(){var a=this.getCenterContainer();return a.add.apply(a,arguments)},setItems:function(b){if(this.isCreateComplete){var a=this.getCenterContainer();if(!a){return}a.setItems(b)}},getItems:function(){var a=this.getCenterContainer();if(!a){return}return a.getItems.apply(a,arguments)},setLeftItems:function(b){var a=this.getLeftContainer();if(!a){return}a.setItems(b)},getLeftItems:function(){var a=this.getLeftContainer();if(!a){return}return a.getItems()},setRightItems:function(b){var a=this.getRightContainer();if(!a){return}a.setItems(b)},getRightItems:function(){var a=this.getRightContainer();if(!a){return}return a.getItems()},setTpl:function(b){var a=this.getCenterContainer();a.setTpl(b)},getTpl:function(){var a=this.getCenterContainer();a.getTpl()},setTplWriteMode:function(b){var a=this.getCenterContainer();a.setTplWriteMode(b)},getTplWriteMode:function(){var a=this.getCenterContainer();a.getTplWriteMode()},setData:function(b){var a=this.getCenterContainer();a.setData(b)},getData:function(){var a=this.getCenterContainer();a.getData()},hideLeftView:function(){this.getLeftContainer().hide()},hideRightView:function(){this.getRightContainer().hide()},showLeftView:function(){this.getLeftContainer().show()},showRightView:function(){this.getRightContainer().show()}});Application.loadMode(["ThreeColumnCell"],"component");Ext.define("Application.component.ContainerIconCell",{alternateClassName:"LKLContainerIconCell",extend:LKLThreeColumnCell,xtype:"lklcontainericon",config:{rightIcon:null,leftIcon:null},defaultLayout:{rightview:{xtype:"image",cls:"righticon",itemId:"righticon"},leftview:{xtype:"image",cls:"lefticon",itemId:"lefticon",hidden:true},layout:{type:"hbox",pack:"start",align:"center"}},constructor:function(a){if(!a){a={}}if(a.leftIcon&&(!a.leftview||a.leftview.hidden===undefined)){if(!a.leftview){a.leftview={}}a.leftview.hidden=false}var b=Ext.clone(this.defaultLayout);Ext.applyIf(a,b);Ext.applyIf(a.rightview,b.rightview);Ext.applyIf(a.leftview,b.leftview);this.callParent(arguments);this.addCls(this.getBaseCls()+"-containericoncell")},updateRightIcon:function(a){this.setRightIcon(a)},setRightIcon:function(b){var a=this.getRightIconComponent();if(!a){return}a.setSrc(b)},updateLeftIcon:function(a){this.setLeftIcon(a)},setLeftIcon:function(b){var a=this.getLeftIconComponent();if(!a){return}a.setSrc(b)},getRightIconComponent:function(){var a=this.getRightContainer();return a.getComponent("righticon")},getLeftIconComponent:function(){var a=this.getLeftContainer();return a.getComponent("lefticon")}});Ext.Date.monthNames=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"];Ext.define("Application.component.DatePicker",{extend:Ext.picker.Date,xtype:"lkldatepicker",alternateClassName:"LKLDateDicker",constructor:function(){this.callParent(arguments);this.addCls(Ext.baseCSSPrefix+"lkldatepicker");this.applyCancelButton("取消");this.applyDoneButton("完成")},createSlots:function(){var k=this,c=k.getSlotOrder(),m=k.getYearFrom(),e=k.getYearTo(),f=[],l=[],b=[],h=m>e,j,d,a;while(m){f.push({text:m+"年",value:m});if(m===e){break}if(h){m--}else{m++}}a=k.getDaysInMonth(1,new Date().getFullYear());for(d=0;d<a;d++){l.push({text:(d+1)+"日",value:d+1})}for(d=0,j=Ext.Date.monthNames.length;d<j;d++){b.push({text:Ext.Date.monthNames[d],value:d+1})}var g=[];c.forEach(function(i){g.push(k.createSlot(i,l,b,f))});k.setSlots(g)},onSlotPick:function(){var g=this.getValue(true),f=this.getDaySlot(),e=g.getFullYear(),d=g.getMonth(),j=[],a,b;if(!g||!Ext.isDate(g)||!f){return}this.callParent(arguments);a=this.getDaysInMonth(d+1,e);for(b=0;b<a;b++){j.push({text:(b+1)+"日",value:b+1})}if(f.getStore().getCount()==j.length){return}f.getStore().setData(j);var h=f.getStore(),m=f.getViewItems(),l=f.getValueField(),c,k;c=h.find(l,g.getDate());if(c==-1){return}k=Ext.get(m[c]);f.selectedIndex=c;f.scrollToItem(k);f.setValue(f.getValue(true))},createSlot:function(b,d,a,c){switch(b){case"year":return{name:"year",align:"center",data:c,title:this.getYearText(),flex:3};case"month":return{name:b,align:"center",data:a,title:this.getMonthText(),flex:3};case"day":return{name:"day",align:"center",data:d,title:this.getDayText(),flex:2}}}});Ext.define("Application.component.DatePickerField",{extend:Ext.field.DatePicker,xtype:"lkldatepickerfield",alternateClassName:"LKLDateDickerField",constructor:function(){this.callParent(arguments);this.addCls(Ext.baseCSSPrefix+"lkldatepickerfield");this.setLabelWidth("50%")},getValue:function(){if(this._picker&&this._picker instanceof Application.component.DatePicker){return this._picker.getValue()}return this._value},getPicker:function(){var b=this._picker,c=this.getValue();if(b&&!b.isPicker){var a={};Application.service.utils.moveTo(a,this.config,["yearFrom","yearTo","slotOrder"]);b=Ext.factory(a,Application.component.DatePicker);if(c!=null){b.setValue(c)}}b.on({scope:this,change:"onPickerChange",hide:"onPickerHide"});this._picker=b;return b}});Ext.define("Application.component.FieldSet",{extend:Ext.form.FieldSet,xtype:"lklfieldset",alternateClassName:"LKLFieldSet",config:{},constructor:function(a){this.callParent(arguments);this.addCls(Ext.baseCSSPrefix+"form-lklfieldset")}});Ext.define("Application.component.FormPanel",{extend:Ext.form.Panel,xtype:"lklformpanel",alternateClassName:"LKLFormPanel",config:{},constructor:function(a){this.callParent(arguments);this.addCls(Ext.baseCSSPrefix+"lklform");this.addCls("font-size-text-normal")}});Application.loadMode(["ThreeColumnCell"],"component");Ext.define("Application.component.IconDoubleLineIcon",{alternateClassName:"LKLIconDoubleLineIcon",xtype:"lklicondoublelineicon",extend:LKLThreeColumnCell,config:{firstText:"",firstText2:"",secondText:"",leftIcon:null,rightIcon:null,firstHint:"",secondHint:"",leftIconWidth:25,leftIconHeight:25,rightIconWidth:25,rightIconHeight:25,firstStyle:"",firstHintStyle:"",secondStyle:"",secondHintStyle:"",leftIconStyle:""},defaultLayout:{leftview:{itemId:"leftIcon",xtype:"image",pack:"left",hidden:true,width:25,height:25},rightview:{itemId:"rightIcon",xtype:"image",pack:"right",hidden:true,width:25,height:25},layout:{type:"vbox",align:"left",pack:"center"},items:[{itemId:"firstBox",xytpe:"container",layout:{type:"hbox",align:"center",pack:"left"},items:[{cls:"first-text",itemId:"firstText",xtype:"label"},{cls:"first-text-hint",itemId:"firstTextHint",xtype:"label"},{cls:"first-text2",itemId:"firstText2",xtype:"label",hidden:true}]},{cls:"second-text",itemId:"secondText",xtype:"label"},{cls:"second-text-hint",itemId:"secondTextHint",xtype:"label"}]},isFirstTextShow:false,isSecondTextShow:false,getFirstText:function(){return this._getFirstTextComponent().getValue()},getFirstText2:function(){return this._getFirstText2Component().getValue()},getSecondText:function(){return this._getSecondTextComponent().getValue()},setFirstText:function(a){this.isFirstTextShow=true;this._getFirstTextComponent().setHtml(a)},setFirstText2:function(a){this._getFirstText2Component().show();this._getFirstText2Component().setHtml(a)},setSecondText:function(a){this.isSecondTextShow=true;this._getSecondTextComponent().setHtml(a)},updateFirstText:function(a){this.setFirstText(a)},updateFirstText2:function(a){this.setFirstText2(a)},updateSecondText:function(a){this.setSecondText(a)},updateLeftIcon:function(b){var a=this._getLeftIconComponent();b.length==0?a.hide():a.show();a.setSrc(b)},updateRightIcon:function(b){var a=this._getRightIconComponent();b.length==0?a.hide():a.show();a.setSrc(b)},updateFirstHint:function(a){if(this._getFirstTextComponent().getHtml().length!=0){return}this._getFirstTextHintComponent().setHtml(a)},updateSecondHint:function(a){if(this._getSecondTextComponent().getHtml().length!=0){return}this._getSecondTextHintComponent().setHtml(a)},updateLeftIconWidth:function(a){this._getLeftIconComponent().setWidth(a)},updateLeftIconHeight:function(a){this._getLeftIconComponent().setHeight(a)},updateRightIconWidth:function(a){this._getRightIconComponent().setWidth(a)},updateRightIconHeight:function(a){this._getRightIconComponent().setHeight(a)},updateFirstStyle:function(a){this._getFirstTextComponent().setStyle(a)},updateSecondStyle:function(a){this._getSecondTextComponent().setStyle(a)},updateFirstHintStyle:function(a){this._getFirstTextHintComponent().setStyle(a)},updateSecondHintStyle:function(a){this._getSecondTextHintComponent().setStyle(a)},updateLeftIconStyle:function(a){this._getLeftIconComponent().setStyle(a)},constructor:function(a){a=a||{};var b=Ext.clone(this.defaultLayout);Ext.applyIf(a,b);if(a.leftIcon){a.leftview.hidden=false}if(a.rightIcon){a.rightview.hidden=false}if(a.firstText2){a.items[0].items[1].hidden=false}this.callParent(arguments);this.addCls(this.getBaseCls()+"-icondoublelineicon")},_getLeftIconComponent:function(){return this.getLeftContainer().getComponent("leftIcon")},_getRightIconComponent:function(){return this.getRightContainer().getComponent("rightIcon")},_getFirstTextComponent:function(){return this.getCenterContainer().getComponent("firstBox").getComponent("firstText")},_getFirstTextHintComponent:function(){return this.getCenterContainer().getComponent("firstBox").getComponent("firstTextHint")},_getFirstText2Component:function(){return this.getCenterContainer().getComponent("firstBox").getComponent("firstText2")},_getSecondTextComponent:function(){return this.getCenterContainer().getComponent("secondText")},_getSecondTextHintComponent:function(){return this.getCenterContainer().getComponent("secondTextHint")}});Ext.define("Application.component.Label",{xtype:"lkllabel",extend:Ext.Label,alternateClassName:"LKLLabel",config:{ui:AppDefaultUI},constructor:function(){this.callParent(arguments);this.addCls(Ext.baseCSSPrefix+"lkllabel");this.element.on({tap:{scope:this,fn:function(){this.fireAction("tap",arguments)}}})}});Ext.define("Application.component.Numpad",{extend:Ext.Panel,xtype:"numpad",config:{cls:Ext.baseCSSPrefix+"numpad",numfield:false,keyboardType:"",hint:"",modal:{style:{opacity:1}},bottom:0,hideOnMaskTap:true,disableFloatValues:false,items:[{xtype:"formpanel",itemId:"numpadformpanel",hidden:Ext.os.is.Phone?false:true,margin:"6 0 6 3",width:"97%",height:40,border:0,padding:0,scrollable:false,items:[{xtype:"textfield",name:"inputValue",itemId:"inputValueItemId",value:"0",cls:Ext.baseCSSPrefix+"numpad-display",disabled:true,clearIcon:false}]},{text:"1",data:1},{text:"2",data:2},{text:"3",data:3},{iconCls:"arrow_left",iconMask:true,data:"del",cls:"lklnumberpad_funcbutton"},{text:"4",data:4},{text:"5",data:5},{text:"6",data:6},{text:"清除",data:"clear",cls:"lklnumberpad_funcbutton"},{text:"7",data:7},{text:"8",data:8},{text:"9",data:9},{xtype:"panel",itemId:"okcontainer"}]},initialize:function(){this.callParent();if(this.config.keyboardType=="amount"){this.add([{text:"0",data:"zero"},{text:".",data:"."},{text:"隐藏",data:"hide",cls:"lklnumberpad_funcbutton"}])}else{if(this.getKeyboardType()=="number"||this.getKeyboardType()=="phonenumber"||this.getKeyboardType()=="bankcardnumber"||this.getKeyboardType()=="bankcardnumber2"){this.add([{text:"0",data:"zero",width:Ext.os.is.Phone?"48%":170},{text:"隐藏",data:"hide",cls:"lklnumberpad_funcbutton"}])}else{if(this.getKeyboardType()=="idcardnumber"){this.add([{text:"X",data:"x"},{text:"0",data:"zero"},{text:"隐藏",data:"hide",cls:"lklnumberpad_funcbutton"}])}}}this.applyInstructions(this.getItems());this.child("#okcontainer").add([{xtype:"button",text:"确定",itemId:"buttonOk",data:"ok",cls:"lklnumberpad_okbutton",height:Ext.os.is.Phone?110:160,style:Ext.os.is.Phone?"margin-top:-50;align:left":"margin-top:-50;align:left;"}]);this.down("#buttonOk").setHandler(this.onKeyTap);this.down("#buttonOk").setScope(this);if(Ext.os.is.ios){this.child("#numpadformpanel").setWidth("98%");this.setStyle("padding-right:2px;padding-left:4px;")}this.on({scope:this,hide:"onHide"});this.displayPanel=this.down("#inputValueItemId")},onHide:function(){if(this.getNumfield()){if(this.getKeyboardType()=="amount"){var a=this.down("#inputValueItemId").getValue();if(a&&a.length>0){this.getNumfield().setValue(new Number(a))}}this.getNumfield().fireEvent("onHide")}this.deconstruct()},deconstruct:function(){this.config.numfield._numpad=false;this.un({scope:this,hide:"deconstruct"});this.destroy()},applyInstructions:function(c){for(var b=0;b<c.getCount();b++){var a=c.getAt(b);if(a.isXType("button")){(function(e,d){d.element.on({touchend:"onKeyTap",scope:e,args:[d]})})(this,a)}}},onKeyTap:function(g){var i=Application.service.utils;var j=g.getData();var a=this.config.numfield;var b=a.getValue();var c="";var d=a.getRealMaxLength();var e=a.getMaxValue();if(isNaN(j)){switch(j){case"del":c=b.substr(0,b.length-1);break;case"clear":c="";break;case"hide":c=b;this.hide();break;case"x":c=b+"X";break;case".":if(a.config.singleDot){if(b.indexOf(".")<0){if(b.length==0){c=b+"0."}else{c=b+"."}}else{c=b}}else{c=b+"."}break;case"zero":if(b.length!=0){c=b+"0"}else{c="0"}break;case"zerozero":if(b.length!=0){c=b+"00"}else{c="0"}break;case"ok":if(b.indexOf(".")==b.length-1){c=b.substr(0,b.length-1)}else{c=b}this.hide();break}}else{c=b+j}if(c==""){this.setInputAndNumfieldValue(c)}else{switch(this.getKeyboardType()){case"amount":if(c.match(/^-?\d+\.?\d{0,2}$/)){var l=new Number(c).toFixed(2);if(l.length>10){return}if(e==0){this.setInputAndNumfieldValue(c)}else{if(c<=e){this.setInputAndNumfieldValue(c)}}}break;case"number":if(d==0){this.setInputAndNumfieldValue(c)}else{if(c.length<=d){this.setInputAndNumfieldValue(c)}}break;case"phonenumber":if(c.length<=11){var k=i.stepFormatPhoneNumber(c);this.setInputAndNumfieldValue(k)}break;case"bankcardnumber":var f=i.formatBankCard(c);if(d==0){this.setInputAndNumfieldValue(f)}else{if(c.length<=d){this.setInputAndNumfieldValue(f)}}break;case"bankcardnumber2":var f=i.formatBankCard2(c);if(d==0){this.setInputAndNumfieldValue(f)}else{if(c.length<=d){this.setInputAndNumfieldValue(f)}}break;case"idcardnumber":var h=i.stepFormatIdCardNumber(c);if(c.length<=18){this.setInputAndNumfieldValue(h)}break}}},setInputAndNumfieldValue:function(a){this.displayPanel.setValue(a);this.config.numfield.setValue(a,false)}});Application.loadMode(["utils"],"service");Application.definePackage("Application.keyboard.current");Application.loadMode(["Numpad"],"component");Application.loadMode(["utils"],"service");Ext.define("Application.component.Numpadfield",{alternateClassName:"LKLTextFieldWithKeyboard",extend:Ext.field.Text,xtype:"numpadfield",alias:"widget.numpadfield",config:{keyboardType:"",realMaxLength:0,maxValue:0,placeHolder:"",numpad:false,singleDot:true,hideOnRouteChange:false,clearIcon:true,component:{useMask:true},listeners:{tap:function(){return;if(Application.isRepeatExecute()){return}}}},constructor:function(a){if(a&&a.maxLength){a.realMaxLength=a.maxLength;delete a.maxLength}this.callParent(arguments)},initialize:function(){this.callParent();if(Ext.browser.name=="IE"){var a=this.getComponent().mask;a.dom.style.background="white";a.dom.style.filter="alpha(opacity=0.0)";a.dom.style.opacity="0";a.dom.style.zIndex="1000"}if(this.getHideOnRouteChange()){var b=this;window.removeEventListener("hashchange",function(){b._numpad.hide()});window.addEventListener("hashchange",function(){b._numpad.hide()})}this.getComponent().on({scope:this,masktap:"onMaskTap",clearicontap:"onClearIconTap"});this.getComponent().input.dom.readOnly=true;this.addCls(Ext.baseCSSPrefix+"numpadfield")},onClearIconTap:function(){this.setValue("");this.getNumpad(this).show();this.focus()},getValue:function(){var b=this.callParent(arguments);var a=Application.service.utils;var c=this.getKeyboardType();if(c=="amount"){}else{if(c=="phonenumber"){return a.unStepFormatPhoneNumber(b)}else{if(c=="bankcardnumber"){return b.replace(/ /g,"")}else{if(c=="bankcardnumber2"){return b.replace(/ /g,"")}else{if(c=="idcardnumber"){return b.replace(/ /g,"")}}}}}return b},setValue:function(c,b){if(b===undefined||b){var a=Application.service.utils;switch(this.getKeyboardType()){case"phonenumber":this.callParent([a.stepFormatPhoneNumber(c)]);break;case"bankcardnumber":this.callParent([a.formatBankCard(c)]);break;case"bankcardnumber2":this.callParent([a.formatBankCard2(c)]);break;case"idcardnumber":this.callParent([a.stepFormatIdCardNumber(c)]);break;default:this.callParent([c]);break}}else{this.callParent([c])}},isPhoneNumber:function(a){return((/^1[3|4|5|7|8][0-9]\d{4,8}$/.test(a)))?true:false},getNumpad:function(b){var a=this._numpad;if(!a){if(Ext.os.is.Phone){a=Ext.create("Application.component.Numpad",{numfield:b,keyboardType:this.config.keyboardType,width:"100%",height:305,disableFloatValues:this.config.disableFloatValues,defaults:{xtype:"button",width:"23%",height:52,style:"float:left",margin:"3px 1%"}})}else{a=Ext.create("Application.component.Numpad",{numfield:b,keyboardType:this.config.keyboardType,width:382,height:382,padding:5,disableFloatValues:this.config.disableFloatValues,defaults:{xtype:"button",width:80,height:75,style:"float:left",margin:5}})}Ext.Viewport.add(a);this._numpad=a}if(this.getKeyboardType()=="phonenumber"){a.getAt(0).setValues({inputValue:Application.service.utils.stepFormatPhoneNumber(b.getValue())})}else{if(this.getKeyboardType()=="bankcardnumber"){a.getAt(0).setValues({inputValue:Application.service.utils.formatBankCard(b.getValue())})}else{if(this.getKeyboardType()=="bankcardnumber2"){a.getAt(0).setValues({inputValue:Application.service.utils.formatBankCard2(b.getValue())})}else{if(this.getKeyboardType()=="idcardnumber"){a.getAt(0).setValues({inputValue:Application.service.utils.stepFormatIdCardNumber(b.getValue())})}else{a.getAt(0).setValues({inputValue:b.getValue()})}}}}if(this.getPlaceHolder()!=""){a.down("#inputValueItemId").setPlaceHolder(this.getPlaceHolder())}return a},showKeyboard:function(){this.onMaskTap()},hideKeyboard:function(){this.getNumpad(this).hide()},onMaskTap:function(){if(this.getDisabled()){return false}if(this.getReadOnly()){return false}this.setDisabled(true);var a=this.getNumpad(this);Application.keyboard.current=a;this.setDisabled(false);return false}});Application.loadMode(["ThreeColumnCell","Numpadfield"],"component");Ext.define("Application.component.LabelTextView",{alternateClassName:"LKLLabelTextView",extend:LKLThreeColumnCell,xtype:"lkllabeltextview",config:{text:"",maxLength:100,rightText:"",rightIcon:null,leftIcon:null,clearIcon:false,readOnly:true,placeHolder:"",keyboardType:"",addBottomLine:false,hideBottomLine:false,rightTextStyle:"",rightIconStyle:""},defaultLayout:{rightview:{xtype:"image",cls:"righticon",itemId:"righticon"},leftview:{xtype:"image",cls:"lefticon",itemId:"lefticon",hidden:true},layout:{type:"hbox",align:"center",pack:"end"},items:[]},displayItems:[{xtype:"textfield",flex:1,itemId:"lefttext",clearIcon:false,readOnly:true,border:0},{xtype:"numpadfield",style:{margin:"0 0 0 0",padding:"0 0 0 0"},keyboardType:"number",flex:1,itemId:"lefttext",border:0},{xtype:"label",itemId:"righttext",clearIcon:false,border:0}],constructor:function(a){if(!a){a={}}if(a.leftIcon&&(!a.leftview||a.leftview.hidden===undefined)){if(!a.leftview){a.leftview={}}a.leftview.hidden=false}var b=Ext.clone(this.defaultLayout),c=Ext.clone(this.displayItems);Ext.applyIf(a,b);Ext.applyIf(a.rightview,b.rightview);Ext.applyIf(a.leftview,b.leftview);if(a.keyboardType){a.items[0]=c[1];a.items[0].keyboardType=a.keyboardType}else{a.items[0]=c[0]}a.items[1]=c[2];this.leftTextId=a.items[0].itemId;this.callParent(arguments);this.addCls(this.getBaseCls()+"-labeltextview");this.getLeftTextComponent().on({focus:{scope:this,fn:function(){this.fireAction("focus",arguments)}},blur:{scope:this,fn:function(){this.fireAction("blur",arguments)}},change:{scope:this,fn:function(){this.fireAction("change",arguments)}},onHide:{scope:this,fn:function(){this.fireAction("onHide",arguments)}},keyup:{scope:this,fn:function(){this.fireAction("keyup",arguments)}},keydown:{scope:this,fn:function(){this.fireAction("keydown",arguments)}}});this.getRightTextComponent().element.on({tap:{scope:this,fn:function(){arguments[0]=this.getRightTextComponent();this.fireAction("taprighttext",arguments)}}})},setAddBottomLine:function(a){if(a){this.setStyle("border: 0px;");var b=this.getCenterContainer();b.setStyle("border-bottom: solid 1px #cccccc;")}},setHideBottomLine:function(a){if(a){this.setStyle("border: 0px;")}},updateText:function(a){this.setText(a)},setText:function(a){this.getLeftTextComponent().setValue(a)},getText:function(){return this.getLeftTextComponent().getValue()},updateMaxLength:function(a){this.setMaxLength(a)},setMaxLength:function(a){this.getLeftTextComponent().setMaxLength(a)},updateRightText:function(a){this.setRightText(a)},setRightText:function(a){this.getRightTextComponent().setHtml(a)},getRightText:function(){return this.getRightTextComponent().getHtml()},setKeyboardType:function(a){if(this.leftTextId=="lefttext-custom"){this.getLeftTextComponent().setKeyboardType(a)}},updateKeyboardType:function(a){this.setKeyboardType(a)},updateRightIcon:function(a){this.setRightIcon(a)},setRightIcon:function(b){var a=this.getRightIconComponent();if(!a){return}a.setSrc(b)},updateLeftIcon:function(a){this.setLeftIcon(a)},setLeftIcon:function(b){var a=this.getLeftIconComponent();if(!a){return}a.setSrc(b)},updateReadOnly:function(a){this.setReadOnly(a)},setReadOnly:function(a){if(this.getLeftTextComponent().config.keyboardType){return}this.getLeftTextComponent().setReadOnly(a)},updateClearIcon:function(a){this.setClearIcon(a)},setClearIcon:function(a){this.getLeftTextComponent().setClearIcon(a)},updatePlaceHolder:function(a){this.setPlaceHolder(a)},setPlaceHolder:function(a){this.getLeftTextComponent().setPlaceHolder(a)},updateRightTextStyle:function(a){this.getRightTextComponent().setStyle(a)},getLeftTextComponent:function(){var a=this.getCenterContainer();return a.getComponent("lefttext")},getRightTextComponent:function(){var a=this.getCenterContainer();return a.getComponent("righttext")},getRightIconComponent:function(){var a=this.getRightContainer();return a.getComponent("righticon")},getLeftIconComponent:function(){var a=this.getLeftContainer();return a.getComponent("lefticon")},getValue:function(){return this.getText()},setValue:function(a){this.setText(a)}});Ext.define("Application.component.ListPaging",{extend:Ext.plugin.ListPaging,alternateClassName:"LKLListPaging",config:{autoPaging:true,loadMoreText:"加载更多...",noMoreRecordsText:"没有更多数据了"},storeFullyLoaded:function(){var a=this.getList().getStore(),b=a.getTotalCount();return b!==null?a.getTotalCount()<=(a.currentPage*a.getPageSize()):false},loadNextPage:function(){var a=this;if(!a.storeFullyLoaded()){a.disableDataViewMask();a.setLoading(true);a.fireEvent("refresh")}else{this.getLoadMoreCmp().setHtml(this.getLoadTpl().apply({cssPrefix:Ext.baseCSSPrefix,message:this.getNoMoreRecordsText()}))}}});Ext.define("Application.component.Panel",{extend:Ext.Panel,xtype:"lklpanel",alternateClassName:"LKLPanel",constructor:function(a){if(a&&a.pageName||this.config.pageName){Ext.applyIf(a,{scrollable:{direction:"vertical",directionLock:true}})}this.callParent(arguments);this.addCls(Ext.baseCSSPrefix+"lklpanel");this.addCls("font-size-text-normal");this.addCls("color-background-page");this.element.on({tap:{scope:this,fn:function(){this.fireAction("tap",arguments)}}})}});Ext.define("Application.component.Passwdpad",{extend:Ext.Panel,xtype:"passwdpad",config:{cls:Ext.baseCSSPrefix+"numpad",numfield:false,maxLength:0,modal:{style:{opacity:1}},bottom:0,hideOnMaskTap:true,disableFloatValues:false,items:[{xtype:"formpanel",itemId:"numpadformpanel",hidden:Ext.os.is.Phone?false:true,margin:"6 0 6 3",width:"97%",height:40,border:0,padding:0,scrollable:false,items:[{xtype:"passwordfield",itemId:"passwordfielditemid",name:"inputValue",value:"0",cls:Ext.baseCSSPrefix+"numpad-display",disabled:true,clearIcon:false}]},{text:"1",data:1},{text:"2",data:2},{text:"3",data:3},{iconCls:"arrow_left",iconMask:true,data:"del",cls:"lklnumberpad_funcbutton"},{text:"4",data:4},{text:"5",data:5},{text:"6",data:6},{text:"清除",data:"clear",cls:"lklnumberpad_funcbutton"},{text:"7",data:7},{text:"8",data:8},{text:"9",data:9},{xtype:"panel",itemId:"okcontainer"}]},initialize:function(){this.callParent();this.add([{text:"0",data:"zero",width:Ext.os.is.Phone?"48%":170},{text:"隐藏",data:"hide",cls:"lklnumberpad_funcbutton"}]);this.applyInstructions(this.getItems());this.child("#okcontainer").add([{xtype:"button",text:"确定",itemId:"buttonOk",data:"ok",cls:"lklnumberpad_okbutton",height:Ext.os.is.Phone?110:160,style:Ext.os.is.Phone?"margin-top:-50;align:left":"margin-top:-50;align:left"}]);this.down("#buttonOk").setHandler(this.onKeyTap);this.down("#buttonOk").setScope(this);if(Ext.os.is.ios){this.child("#numpadformpanel").setWidth("98%");this.setStyle("padding-right:4px;padding-left:2px;")}this.on({scope:this,hide:"onHide"})},onHide:function(){if(this.getNumfield()){this.getNumfield().fireEvent("onHide")}this.deconstruct()},deconstruct:function(){this.config.numfield._numpad=false;this.un({scope:this,hide:"deconstruct"});this.destroy()},applyInstructions:function(c){for(var b=0;b<c.getCount();b++){var a=c.getAt(b);if(a.isXType("button")){if(a.isXType("button")){(function(e,d){d.element.on({touchend:"onKeyTap",scope:e,args:[d]})})(this,a)}}}},onKeyTap:function(f){var e=f.getData();var d=this;var c=d.config.numfield;var b=c.getValue();var g="";if(isNaN(e)){switch(e){case"del":g=b.substr(0,b.length-1);break;case"clear":g="";break;case"hide":g=b;break;case".":if(c.config.singleDot){if(b.indexOf(".")<0){if(b.length==0){g=b+"0."}else{g=b+"."}}else{g=b}}else{g=b+"."}break;case"zero":if(b.length!=0){g=b+"0"}else{g=0}break;case"zerozero":if(b.length!=0){g=b+"00"}else{g=0}break;case"ok":if(b.indexOf(".")==b.length-1){g=b.substr(0,b.length-1)}else{g=b}break}}else{g=b+e}function a(){d.getAt(0).setValues({inputValue:g});c.setValue(g)}if(g==""){a()}else{if(this.config.maxLength==0){a()}else{if(this.config.maxLength>0&&g.length<=this.config.maxLength){a();if(g.length==this.config.maxLength){this.hide();return}}}}if(e=="ok"||e=="hide"){this.hide()}}});Application.definePackage("Application.keyboard.current");Application.loadMode(["Passwdpad"],"component");Ext.define("Application.component.Passwdpadfield",{alternateClassName:"LKLPasswdFieldWithKeyboard",extend:Ext.field.Password,xtype:"passwdpadfield",alias:"widget.passwdpadfield",config:{keyboardType:"amount",maxLength:0,placeHolder:"",numpad:false,singleDot:true,hideOnRouteChange:false,clearIcon:false,component:{useMask:true}},initialize:function(){this.callParent();if(Ext.browser.name=="IE"){var a=this.getComponent().mask;a.dom.style.background="white";a.dom.style.filter="alpha(opacity=0.0)";a.dom.style.opacity="0";a.dom.style.zIndex="1000"}if(this.getHideOnRouteChange()){var b=this;window.removeEventListener("hashchange",function(){b._numpad.hide()});window.addEventListener("hashchange",function(){b._numpad.hide()})}this.getComponent().on({scope:this,clearicontap:"onClearIconTap",masktap:"onMaskTap"});this.getComponent().input.dom.readOnly=true;this.addCls(Ext.baseCSSPrefix+"numpadfield")},onClearIconTap:function(){this.setValue("");this.getNumpad(this).show();this.focus()},getNumpad:function(b){var a=this._numpad;if(!a){if(Ext.os.is.Phone){a=Ext.create("Application.component.Passwdpad",{numfield:b,maxLength:this.config.maxLength,width:"100%",height:305,disableFloatValues:this.config.disableFloatValues,defaults:{xtype:"button",width:"23%",height:52,style:"float:left",margin:"3px 1%"}})}else{a=Ext.create("Application.component.Passwdpad",{numfield:b,maxLength:this.config.maxLength,width:382,height:382,padding:5,disableFloatValues:this.config.disableFloatValues,defaults:{xtype:"button",width:80,height:75,style:"float:left",margin:5}})}Ext.Viewport.add(a);this._numpad=a}a.getAt(0).setValues({inputValue:b.getValue()});if(this.getPlaceHolder()!=""){a.down("#passwordfielditemid").setPlaceHolder(this.getPlaceHolder())}return a},onMaskTap:function(){if(this.getDisabled()){return false}if(this.getReadOnly()){return false}this.setDisabled(true);var a=this.getNumpad(this);Application.keyboard.current=a;this.setDisabled(false);return false},showKeyboard:function(){this.onMaskTap()},hideKeyboard:function(){this.getNumpad(this).hide()}});Ext.define("Application.component.ProgressBar",{extend:Ext.Label,alternateClassName:"LKLProgressBar",xtype:"lklprogressbar",statics:{NORMAL:"normal",MESSAGE:"message"},config:{message:""},withMessageConfig:{tpl:['<div class="x-loading-spinner" style="font-size: 180%; margin: 10px auto;">','<span class="x-loading-top"></span>','<span class="x-loading-right"></span>','<span class="x-loading-bottom"></span>','<span class="x-loading-left"></span>',"</div>",'<div style="margin: 10px auto;text-align: center;font-size: 15px;">{message}</div>'].join("")},normalConfig:{html:['<div style="text-align: left;"><div class="x-loading-spinner" style="font-size: 140%; ">','<span class="x-loading-top"></span>','<span class="x-loading-right"></span>','<span class="x-loading-bottom"></span>','<span class="x-loading-left"></span>',"</div></div>"].join("")},constructor:function(a){a=a||{};var b=LKLProgressBar.NORMAL;if(a.type){b=a.type;delete a.type}if(a.message){b=LKLProgressBar.MESSAGE}var c;switch(b){case LKLProgressBar.NORMAL:c=Ext.clone(this.normalConfig);break;case LKLProgressBar.MESSAGE:c=Ext.clone(this.withMessageConfig);break}Ext.apply(a,c);this.callParent(arguments)},updateMessage:function(a){this.setData({message:a})}});Ext.define("Application.component.Radio",{extend:Ext.field.Radio,xtype:"lklradiofield",alternateClassName:"LKLRadio",constructor:function(){this.callParent(arguments);this.addCls(Ext.baseCSSPrefix+"lklradio")}});Ext.define("Application.component.SwipeCell",{alternateClassName:"LKLSwipeCell",xtype:"lklswipecell",extend:Ext.Container,config:{layout:"hbox",items:[{itemId:"mainview",xtype:"container",cls:"main-slide",width:"100%",zIndex:1,items:[]},{itemId:"swipeview",xtype:"container",cls:"swipe-view",zIndex:-1,layout:{type:"hbox",align:"center"},items:[]}]},direction:"",startDrag:false,startDragX:0,startTouchX:0,startTouchY:0,endTouchX:0,deviateX:0,swipeDistance:0,swipeWidth:0,startTime:0,endTime:0,constructor:function(b){b=b||{};var c=this;var a=Ext.clone(c.config);Ext.applyIf(b,a);if(b.mainView){b.items[0].items=b.mainView;delete b.mainView}if(b.swipeView){b.items[1].items=b.swipeView;delete b.swipeView}if(b.swipeWidth){c.swipeWidth=b.swipeWidth;b.items[1].width=b.swipeWidth;delete b.swipeWidth}c.callParent(arguments);c.addCls(c.getBaseCls());c._getMainView().element.on({dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",touchstart:"onTouchStart",touchend:"onTouchEnd",tap:"onMainTap",scope:this});c._getSwipeView().element.on({tap:"onSwipeTap",scope:this});c.initLklSlideAnim()},hideSwipeView:function(){this._getSwipeView().setZIndex(-1);var a=this,b=a.swipeWidth;Ext.Anim.run(a._getMainView(),"lklslide",{duration:500,toX:0,fromX:-b});this.deviateX=0},showSwipeView:function(){this._getSwipeView().setZIndex(-1);var a=this,b=a.swipeWidth;Ext.Anim.run(a._getMainView(),"lklslide",{duration:500,toX:-b,fromX:0,after:function(){a._getSwipeView().setZIndex(0)}});this.deviateX=b},isSwipeViewShow:function(){var a=this;if(a.swipeWidth==a.deviateX){return true}return false},initLklSlideAnim:function(){Ext.apply(Ext.anims,{lklslide:new Ext.Anim({zIndex:0,out:false,toX:0,fromX:0,autoClear:false,before:function(b){var f=this.zIndex,e=f-1,a=this.out,d=this.toX,c=this.fromX;this.from={"-webkit-transform":"translate3d("+c+"px, 0px, 0)"};this.to={"-webkit-transform":"translate3d("+d+"px, 0px, 0)"}}})})},onMainTap:function(){this.fireAction("maintap",arguments)},onSwipeTap:function(){this.fireAction("swipetap",arguments)},onTouchStart:function(){this.startTouchX=arguments[0].pageX;this.startTouchY=arguments[0].pageY;this.startTime=Ext.Date.now()},onTouchEnd:function(){this.endTouchX=arguments[0].pageX;this.endTime=Ext.Date.now()},onDragStart:function(){var b=arguments[0].pageX,a=arguments[0].pageY,d=Math.abs(b-this.startTouchX),c=Math.abs(a-this.startTouchY);this.direction=c>d?"v":"h";if(this.direction==="v"){return}this.startDrag=true;this.startDragX=arguments[0].pageX+this.deviateX;this._getSwipeView().setZIndex(-1)},onDrag:function(){if(!this.startDrag){return}var a=this.startDragX-arguments[0].pageX;if(Math.abs(a)<=this.swipeWidth&&a>=0){this.swipeDistance=a;this._getMainView().setStyle("-webkit-transform: translate3d("+(-this.swipeDistance)+"px, 0px, 0px);")}},onDragEnd:function(){if(this.direction==="v"){return}this.startDrag=false;var e=this;var d=this._getMainView();var f=this.swipeDistance,b=this.swipeWidth,a=(b-f),c=this.endTime-this.startTime;if(this.startTouchX>this.endTouchX){if(c<300){Ext.Anim.run(d,"lklslide",{duration:500,toX:-b,fromX:-f,after:function(){e._getSwipeView().setZIndex(0)}});this.deviateX=b}else{if(f<b/2){Ext.Anim.run(d,"lklslide",{duration:500,toX:0,fromX:-f});this.deviateX=0}else{Ext.Anim.run(d,"lklslide",{duration:500,toX:-b,fromX:-f,after:function(){e._getSwipeView().setZIndex(0)}});this.deviateX=b}}}else{if(c<300){Ext.Anim.run(d,"lklslide",{duration:500,toX:0,fromX:-f});this.deviateX=0}else{if(a<b/2){Ext.Anim.run(d,"lklslide",{duration:500,toX:-b,fromX:-f,after:function(){e._getSwipeView().setZIndex(0)}});this.deviateX=b}else{Ext.Anim.run(d,"lklslide",{duration:500,toX:0,fromX:-f});this.deviateX=0}}}},_getMainView:function(){return this.getComponent("mainview")},_getSwipeView:function(){return this.getComponent("swipeview")}});Ext.define("Application.component.TabButton",{alternateClassName:"LKLTabButton",extend:Ext.Panel,xtype:"lkltabbutton",config:{margin:"20 12 0 12",textArray:[],itemSelected:0,leftNormalCls:"lkl-tab-button-left-normal",centerNormalCls:"lkl-tab-button-center-normal",rightNormalCls:"lkl-tab-button-right-normal",leftPressedCls:"lkl-tab-button-left-pressed",centerPressedCls:"lkl-tab-button-center-pressed",rightPressedCls:"lkl-tab-button-right-pressed",layout:{type:"hbox",pack:"center",align:"center"},items:[]},updateTextArray:function(){this.configTabButton()},configTabButton:function(){var c=this.getTextArray();this.removeAll();for(var b in c){var a={};if(b==0){a=(this.getItemSelected()==b)?this.getLeftPressedCls():this.getLeftNormalCls()}else{if(b==(c.length-1)){a=(this.getItemSelected()==b)?this.getRightPressedCls():this.getRightNormalCls()}else{a=(this.getItemSelected()==b)?this.getCenterPressedCls():this.getCenterNormalCls()}}var e=this;var d=Ext.create("Ext.Button",{text:c[b],flex:1,itemId:b,cls:a,padding:0,handler:function(){var f=parseInt(this.getItemId());e.toggle(f);e.fireAction("tapButton",[f])}});this.add(d)}},getButton:function(a){return this.getComponent(a)},toggle:function(a){var c=this.getTextArray();var f="";this.setItemSelected(a);for(var b in c){if(b==a){continue}var d=this.getButton(b);var e=d.getCls();d.removeCls(e);if(b==0){f=this.getLeftNormalCls()}else{if(b==(c.length-1)){f=this.getRightNormalCls()}else{f=this.getCenterNormalCls()}}d.addCls(f)}if(a==0){f=this.getLeftPressedCls()}else{if(a==(c.length-1)){f=this.getRightPressedCls()}else{f=this.getCenterPressedCls()}}var d=this.getButton(a);var e=d.getCls();d.removeCls(e);d.addCls(f)}});Ext.define("Application.component.TextField",{extend:Ext.field.Text,xtype:"lkltextfield",alternateClassName:"LKLTextField",config:{},constructor:function(a){this.callParent(arguments);this.addCls(Ext.baseCSSPrefix+"lkltextfield")}});Ext.define("Application.component.Toggle",{extend:Ext.field.Toggle,xtype:"lkltogglefield",alternateClassName:"LKLToggle",constructor:function(a){this.callParent(arguments);this.addCls(Ext.baseCSSPrefix+"lkltoggle");this.setLabelWidth("66%")}});Application.loadMode(["ThreeColumnCell","Button","Numpadfield"],"component");Ext.define("Application.component.VerificationSMSField",{alternateClassName:"VerificationSMSField",extend:LKLThreeColumnCell,xtype:"lklverisms",timerID:"",config:{text:"",btnText:"",placeHolder:"",readOnly:false,countDown:60,lastTimeStamp:null},defaultLayout:{layout:{type:"hbox",pack:"start",align:"end"},items:[{xtype:"numpadfield",margin:"0 0 0 -12",itemId:"lefttext",keyboardType:"number",maxLength:6,clearIcon:false,readOnly:false,border:0,flex:5},{xtype:"lklbutton",itemId:"rightbtn",disabledCls:"",border:0,flex:2}]},constructor:function(a){if(!a){a={}}var b=Ext.clone(this.defaultLayout);Ext.applyIf(a,b);this.callParent(arguments);this.addCls(this.getBaseCls()+"-lklverisms");this.getLeftTextComponent().on({tap:{scope:this,fn:function(){this.fireAction("taptext",arguments)}},focus:{scope:this,fn:function(){this.fireAction("focus",arguments)}},blur:{scope:this,fn:function(){this.fireAction("blur",arguments)}},change:{scope:this,fn:function(){this.fireAction("change",arguments)}}});this.getRightBtnComponent().on({tap:{scope:this,fn:function(){this.fireEvent("getsms")}}})},updateText:function(a){this.setText(a)},setText:function(a){this.getLeftTextComponent().setValue(a)},getText:function(){return this.getLeftTextComponent().getValue()},setValue:function(a){this.setText(a)},getValue:function(){return this.getText()},updateBtnText:function(a){this.getRightBtnComponent().setText(a)},updatePlaceHolder:function(a){this.getLeftTextComponent().setPlaceHolder(a)},updateReadOnly:function(a){this.getLeftTextComponent().setReadOnly(a)},getLeftTextComponent:function(){var a=this.getCenterContainer();return a.getComponent("lefttext")},getRightBtnComponent:function(){var a=this.getCenterContainer();return a.getComponent("rightbtn")},disableSMSAction:function(){var a=0;if(this.getLastTimeStamp()){var c=new Date();a=(c.getTime()-this.getLastTimeStamp().getTime())/1000}if(a>=this.getCountDown()||a==0){this.fireEvent("start");a=this.getCountDown()}else{a=this.getCountDown()-a}a=Math.floor(a);var b=this.getRightBtnComponent();b.disable();this.refreshCount(a);var d=this;timerID=setInterval(function(){if(a<=0){clearInterval(timerID)}d.refreshCount(a--)},1000)},refreshCount:function(b){var a=this.getRightBtnComponent();var c=Ext.String.format("{0}秒后重发",b);if(b<=0){a.setText("重新发送");a.enable()}else{a.setText(c)}},startCount:function(){this.setCountDown(60);this.disableSMSAction()},resetCount:function(){var a=this.getRightBtnComponent();a.setText("重新发送");a.enable();clearInterval(timerID)}});